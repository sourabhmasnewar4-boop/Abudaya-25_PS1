{% extends "layouts/dashboard_layout.html" %}
{% block title %}Audit Log{% endblock %}
{% block sidebar_links %}
    {% set active_page = 'history' %}
    {% include 'layouts/_admin_sidebar.html' %}
{% endblock %}
{% block content %}
<header class="mb-8">
    <h1 class="text-3xl font-bold text-slate-800">System History</h1>
    <p class="text-slate-500 mt-1">A chronological log of all administrative actions.</p>
</header>
<div class="bg-white p-6 rounded-2xl shadow-lg">
    <table class="w-full text-left">
        <thead class="bg-slate-50 text-slate-600 uppercase text-sm">
            <tr>
                <th class="p-4 rounded-l-lg">Timestamp</th>
                <th class="p-4">Admin</th>
                <th class="p-4 rounded-r-lg">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for log in logs %}
            <tr class="border-b border-slate-100">
                <td class="p-4 text-slate-500 text-sm">{{ log.timestamp.split('.')[0] }}</td>
                <td class="p-4 font-medium text-slate-800">{{ log.admin_username }}</td>
                <td class="p-4 text-slate-600">{{ log.action }}</td>
            </tr>
            {% else %}
             <tr><td colspan="3" class="text-center py-10 text-slate-500 italic">No history yet.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
